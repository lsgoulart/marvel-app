{"version":3,"sources":["services/index.js","configs/index.js","components/Comic/index.js","components/Pagination/index.js","assets/email.svg","components/SelectedComics/index.js","components/Search/index.js","containers/Comics/index.js","hooks/useDebounce.js"],"names":["axios","defaults","baseURL","params","apikey","getComics","get","getComic","id","Item","styled","motion","div","isSelected","Infos","Comic","item","setSelected","useState","isHovering","setIsHovering","onHoverStart","onHoverEnd","onTap","initial","opacity","y","animate","transition","staggerChildren","exit","h1","title","to","img","src","thumbnail","path","extension","alt","filter","scale","type","bounce","defaultProps","Wrapper","Pagination","totalPages","onChange","pageCount","pageRangeDisplayed","onPageChange","nextLabel","previousLabel","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","SvgEmail","_ref","svgRef","titleId","props","xmlns","xmlnsXlink","x","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","SelectedWrapper","Container","Share","EmailShare","ShareLink","a","SelectedComics","items","email","setEmail","emailTemplate","useMemo","reduce","acc","curr","description","placeholder","e","value","href","encodeURIComponent","disabled","Search","setValue","useEffect","name","Section","section","Header","Grid","Loading","Comics","currentPage","setCurrentPage","setTotalPages","loading","setLoading","undefined","comicsList","setComicsList","selectedComics","setSelectedComics","searchTerm","setSearchTerm","debouncedSearch","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","offset","titleStartsWith","data","total","fetchData","useCallback","page","selected","checkIsSelected","find","comic","results","map","comics","includes","toggleSelected"],"mappings":"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","file":"static/js/5.53f4ebba.chunk.js","sourcesContent":["import axios from 'axios'\nimport configs from '../configs'\n\naxios.defaults.baseURL = `https://gateway.marvel.com/v1/public/`\naxios.defaults.params = {}\naxios.defaults.params.apikey = configs.API_PUBLIC_KEY\n\nexport const getComics = params =>\n  axios.get('comics', {\n    params,\n  })\nexport const getComic = id => axios.get(`comics/${id}`)\nexport const getSeries = () => axios.get('series')\n","export default {\n  API_PUBLIC_KEY: '7f773469f9f347ac20fe61625756ba78',\n  API_PRIVATE_KEY: '480c36be70b1776dd808980afb42cb9f95ca745d',\n}\n","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { motion } from 'framer-motion'\nimport { Link } from '@reach/router'\n\nconst Item = styled(motion.div)`\n  display: flex;\n  flex-flow: row wrap;\n  overflow: hidden;\n  position: relative;\n  cursor: pointer;\n  border: 8px solid ${({ isSelected }) => (isSelected ? '#ED1D24' : '#0f0d0f')};\n  transition: all 200ms ease;\n\n  img {\n    width: 100%;\n    height: 27.4vw;\n    object-fit: cover;\n  }\n`\n\nconst Infos = styled(motion.div)`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  background: rgba(0, 0, 0, 0.7);\n  flex-flow: row wrap;\n  align-items: flex-end;\n  justify-content: flex-start;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 24px;\n  z-index: 1;\n  overflow: hidden;\n\n  h1 {\n    width: 100%;\n    font-size: 18px;\n    margin-bottom: 10px;\n  }\n\n  a {\n    font-size: 14px;\n    border-radius: 3px;\n    background: rgba(255, 255, 255, 0.1);\n    color: white;\n    text-decoration: none;\n    padding: 10px;\n    display: flex;\n    flex-flow: row wrap;\n\n    :hover {\n      transition: all 200ms ease;\n      background: rgba(255, 255, 255, 0.3);\n    }\n  }\n\n  div {\n    display: flex;\n    flex-flow: row wrap;\n  }\n`\n\nconst Comic = ({ item, isSelected, setSelected }) => {\n  const [isHovering, setIsHovering] = useState(false)\n\n  const toggleSelect = () => {\n    setSelected(item)\n  }\n\n  return (\n    <Item\n      onHoverStart={() => setIsHovering(true)}\n      onHoverEnd={() => setIsHovering(false)}\n      onTap={toggleSelect}\n      isSelected={isSelected}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0, transition: { staggerChildren: 0.4 } }}\n      exit={{ opacity: 0, y: -10 }}\n    >\n      <Infos initial={{ opacity: 0 }} animate={{ opacity: isHovering ? 1 : 0 }}>\n        <motion.div animate={{ y: isHovering ? 0 : 50, opacity: isHovering ? 1 : 0 }}>\n          <motion.h1>{item.title}</motion.h1>\n\n          <Link to={`quadrinho/${item.id}`}>Ver detalhes</Link>\n        </motion.div>\n      </Infos>\n      <motion.img\n        src={`${item.thumbnail.path}.${item.thumbnail.extension}`}\n        title={item.title}\n        alt={item.title}\n        animate={{\n          filter: isHovering ? 'grayscale(1)' : 'grayscale(0)',\n          scale: isHovering ? 1.2 : 1,\n        }}\n        transition={{ type: 'spring', bounce: 0.1 }}\n      />\n    </Item>\n  )\n}\n\nComic.propTypes = {\n  item: PropTypes.shape({\n    thumbnail: PropTypes.shape({\n      path: PropTypes.string,\n      extension: PropTypes.string,\n    }),\n    title: PropTypes.string.isRequired,\n  }),\n  setSelected: PropTypes.func.isRequired,\n  isSelected: PropTypes.bool,\n}\n\nComic.defaultProps = {\n  item: null,\n  isSelected: false,\n}\n\nexport default Comic\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport ReactPaginate from 'react-paginate'\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 160px;\n\n  ul {\n    display: flex;\n    flex-flow: row wrap;\n    align-items: center;\n    min-width: 20px;\n\n    li {\n      display: flex;\n      flex-flow: row wrap;\n      align-items: center;\n      justify-content: center;\n      margin: 0 6px;\n\n      a {\n        padding: 10px;\n        border-radius: 3px;\n        color: #0f0d0f;\n        transition: all 200ms ease;\n        cursor: pointer;\n        min-width: 40px;\n        height: 40px;\n        display: flex;\n        flex-flow: row wrap;\n        align-items: center;\n        justify-content: center;\n\n        :hover {\n          background: rgba(0, 0, 0, 0.2);\n        }\n      }\n\n      &.selected a {\n        background: #ed1d24;\n        color: white;\n      }\n    }\n  }\n`\n\nconst Pagination = ({ totalPages, onChange }) => (\n  <Wrapper>\n    <ReactPaginate\n      pageCount={totalPages}\n      pageRangeDisplayed={5}\n      onPageChange={onChange}\n      nextLabel=\"Próximo\"\n      previousLabel=\"Anterior\"\n    />\n  </Wrapper>\n)\n\nPagination.propTypes = {\n  totalPages: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n}\n\nexport default Pagination\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M467,61H45C20.218,61,0,81.196,0,106v300c0,24.72,20.128,45,45,45h422c24.72,0,45-20.128,45-45V106 C512,81.28,491.872,61,467,61z M460.786,91L256.954,294.833L51.359,91H460.786z M30,399.788V112.069l144.479,143.24L30,399.788z  M51.213,421l144.57-144.57l50.657,50.222c5.864,5.814,15.327,5.795,21.167-0.046L317,277.213L460.787,421H51.213z M482,399.787 L338.213,256L482,112.212V399.787z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nfunction SvgEmail(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEmail);\nexport default __webpack_public_path__ + \"static/media/email.b5eaaaba.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { motion, AnimatePresence } from 'framer-motion'\n\nimport { ReactComponent as EmailIcon } from '../../assets/email.svg'\n\nconst SelectedWrapper = styled(motion.div)`\n  width: 100%;\n  padding: 24px;\n  background: #ed1d24;\n  color: white;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  z-index: 4;\n  font-size: 14px;\n`\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n  align-items: center;\n`\n\nconst Share = styled.div`\n  margin-left: auto;\n  display: flex;\n  flex-flow: row wrap;\n  align-items: center;\n`\n\nconst EmailShare = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  align-items: center;\n  margin-left: 8px;\n  background: rgba(0, 0, 0, 0.3);\n  padding-left: 10px;\n  border-radius: 3px;\n\n  input {\n    width: 230px;\n    background: transparent;\n    color: white;\n    margin-right: auto;\n    border: 0;\n    outline: 0;\n\n    ::placeholder {\n      color: rgba(255, 255, 255, 0.8);\n    }\n  }\n\n  svg {\n    width: 20px;\n    height: 20px;\n    fill: #fff;\n  }\n`\n\nconst ShareLink = styled.a`\n  color: white;\n  text-decoration: none;\n  margin-left: 8px;\n  padding: 10px;\n  background: rgba(0, 0, 0, 0.2);\n  border-bottom-right-radius: 3px;\n  border-top-right-radius: 3px;\n  display: flex;\n  flex-flow: row wrap;\n  transition: all 200ms ease;\n\n  svg {\n    width: 20px;\n    height: 20px;\n    fill: #fff;\n  }\n\n  :hover {\n    background: rgba(0, 0, 0, 0.4);\n  }\n`\n\nconst SelectedComics = ({ items }) => {\n  const [email, setEmail] = useState()\n\n  const emailTemplate = useMemo(\n    () =>\n      items.reduce(\n        (acc, curr) => `\n        ${acc}\n\n        --------------------------------\n\n        ${curr.title}\n\n        ${curr.description?.length > 0 ? curr.description : ''}\n\n        <img src=\"${curr.thumbnail.path}.${curr.thumbnail.extension}\" />\n      `,\n        ``,\n      ),\n    [items],\n  )\n\n  return (\n    <AnimatePresence>\n      {items.length > 0 && (\n        <SelectedWrapper\n          initial={{ y: '100%' }}\n          animate={{ y: 0 }}\n          exit={{ y: '100%' }}\n          transition={{ type: 'spring', bounce: 0.1 }}\n        >\n          <Container>\n            <p>\n              Voce selecionou <strong>{items.length}</strong> quadrinhos\n            </p>\n\n            <Share>\n              <span>Compartilhar:</span>\n\n              <EmailShare>\n                <input\n                  type=\"email\"\n                  placeholder=\"Digite o e-mail\"\n                  onChange={(e) => setEmail(e.target.value)}\n                />\n                <ShareLink\n                  href={`mailto:${email}?Subject=${encodeURIComponent(\n                    'Marvel Comics',\n                  )}&body=${encodeURIComponent(emailTemplate)}`}\n                  disabled={email?.length < 5}\n                >\n                  <EmailIcon />\n                </ShareLink>\n              </EmailShare>\n            </Share>\n          </Container>\n        </SelectedWrapper>\n      )}\n    </AnimatePresence>\n  )\n}\n\nSelectedComics.propTypes = {\n  items: PropTypes.instanceOf(Array),\n}\n\nSelectedComics.defaultProps = {\n  items: [],\n}\n\nexport default SelectedComics\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  max-width: 300px;\n  width: 40%;\n\n  input {\n    width: 100%;\n    padding: 10px;\n    background: rgba(255, 255, 255, 0.8);\n    border: 2px solid #0f0d0f;\n    border-radius: 3px;\n    transition: all 200ms ease;\n\n    :focus {\n      border-color: #ed1d24;\n    }\n  }\n`\n\nconst Search = ({ onChange }) => {\n  const [value, setValue] = useState()\n  useEffect(() => {\n    onChange(value)\n  }, [value, onChange])\n\n  return (\n    <Wrapper>\n      <input\n        type=\"search\"\n        name=\"search\"\n        onChange={(e) => setValue(e.target.value)}\n        placeholder=\"Busque pelo título do quadrinho\"\n      />\n    </Wrapper>\n  )\n}\n\nexport default Search\n","import React, { useState, useCallback, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { AnimatePresence } from 'framer-motion'\n\nimport { getComics } from '../../services'\nimport useDebounce from '../../hooks/useDebounce'\nimport { Comic, SelectedComics, Pagination, Search } from '../../components'\n\nconst Section = styled.section`\n  margin-top: 60px;\n`\n\nconst Header = styled.div`\n  width: 100%;\n  display: flex;\n  flex-flow: column wrap;\n  padding: 0 24px;\n  color: #0f0d0f;\n  margin: 32px 0;\n\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n\n  h1 {\n    margin-bottom: 16px;\n  }\n`\n\nconst Grid = styled.div`\n  widht: 100%;\n  margin: 0 auto;\n  padding: 24px;\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  grid-gap: 20px;\n  margin-bottom: 60px;\n`\n\nconst Loading = styled.div`\n  width: 100%;\n  display: flex;\n  flex-flow: row wrap;\n  align-items: center;\n  justify-content: center;\n  color: #0f0d0f;\n`\n\nconst ITEMS_PER_PAGE = 20\n\nconst Comics = () => {\n  const [currentPage, setCurrentPage] = useState(0)\n  const [totalPages, setTotalPages] = useState(0)\n  const [loading, setLoading] = useState(false)\n  const [comicsList, setComicsList] = useState(undefined)\n  const [selectedComics, setSelectedComics] = useState([])\n  const [searchTerm, setSearchTerm] = useState(undefined)\n  const debouncedSearch = useDebounce(searchTerm, 600)\n\n  const toggleSelected = (comic) => {\n    setSelectedComics((comics) =>\n      comics.includes(comic) ? comics.filter((i) => i !== comic) : [...comics, comic],\n    )\n  }\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true)\n      setComicsList(undefined)\n\n      let params = {\n        offset: currentPage * ITEMS_PER_PAGE,\n      }\n\n      if (debouncedSearch?.length > 3) {\n        params = {\n          ...params,\n          titleStartsWith: debouncedSearch,\n        }\n      }\n\n      const { data } = await getComics(params)\n\n      setComicsList(data)\n      setTotalPages(data.data.total / ITEMS_PER_PAGE)\n      setLoading(false)\n    }\n\n    fetchData()\n  }, [currentPage, debouncedSearch])\n\n  const onPageChange = useCallback((page) => {\n    const { selected } = page\n    setCurrentPage(selected)\n  }, [])\n\n  const checkIsSelected = useCallback(\n    (item) => selectedComics.find((comic) => comic.id === item.id),\n    [selectedComics],\n  )\n\n  return (\n    <Section>\n      <Header>\n        <div>\n          <h1>Lista de quadrinhos</h1>\n          <p>\n            Veja abaixo a lista de quadrinhos disponíveis. Clique para selecionar e compartilhar com\n            seus amigos.\n          </p>\n        </div>\n\n        <Search onChange={setSearchTerm} />\n      </Header>\n\n      {loading && (\n        <Loading>\n          <div>carregando...</div>\n        </Loading>\n      )}\n\n      <Grid>\n        <AnimatePresence>\n          {comicsList?.data.results.map((item) => (\n            <Comic\n              item={item}\n              isSelected={checkIsSelected(item)}\n              setSelected={(comic) => toggleSelected(comic)}\n              key={item.id}\n            />\n          ))}\n        </AnimatePresence>\n      </Grid>\n\n      <Pagination totalPages={totalPages} currentPage={1} onChange={onPageChange} />\n\n      <SelectedComics items={selectedComics} />\n    </Section>\n  )\n}\n\nexport default Comics\n","import { useState, useEffect } from 'react'\n\nexport default (value, delay) => {\n  const [debouncedValue, setDebouncedValue] = useState(value)\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n"],"sourceRoot":""}